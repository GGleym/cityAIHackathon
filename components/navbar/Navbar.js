import Link from 'next/link';
import React, { useContext } from 'react';
import styles from '../../styles/navbar/Navbar.module.css';
import { ProfileButton } from '../mapSheets/ProfileButton';
import { NavbarContext } from '../layouts/Main';
import { MapLoader } from '../loader/MapLoader';

export const LinkItem = ({ href, children }) => {

  return (
    <Link href={href} className={`${styles.linkItem}`}>
      {children}
    </Link>
  );
};

export const Navbar = () => {
  const { showPanel, getPanel, getSheets, showSheets, theme, loader } =
    useContext(NavbarContext);

  return (
    <>
      <header
        className={`${styles.navbar} ${theme === 'black' && styles.darkTheme}`}
      >
        <div className={`${styles.headerOfSheets}`}>
          {!showPanel ? (
            <button
              className={styles.panelButton}
              onClick={() => {
                getPanel(showPanel);
              }}
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="white"
              >
                <path
                  d="M15.25 14C14.8358 14 14.5 14.3358 14.5 14.75C14.5 15.1642 14.8358 15.5 15.25 15.5H18.75C19.1642 15.5 19.5 15.1642 19.5 14.75C19.5 14.3358 19.1642 14 18.75 14H15.25Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M1.75 3C0.783502 3 0 3.7835 0 4.75V19.25C0 20.2165 0.783502 21 1.75 21H22.25C23.2165 21 24 20.2165 24 19.25V4.75C24 3.7835 23.2165 3 22.25 3H1.75ZM1.5 4.75C1.5 4.61193 1.61193 4.5 1.75 4.5H22.25C22.3881 4.5 22.5 4.61193 22.5 4.75V8.5H1.5V4.75ZM1.5 10V19.25C1.5 19.3881 1.61193 19.5 1.75 19.5H22.25C22.3881 19.5 22.5 19.3881 22.5 19.25V10H1.5Z"
                  fill="white"
                />
              </svg>
              <span>Обзорная панель</span>
            </button>
          ) : (
            <button
              className={`${styles.panelButton} ${styles.geoButton}`}
              onClick={() => getPanel(!showPanel)}
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M10.5303 19.5303C10.2374 19.8232 9.76256 19.8232 9.46967 19.5303L3.21967 13.2803C2.92678 12.9874 2.92678 12.5126 3.21967 12.2197L9.46967 5.96967C9.76256 5.67678 10.2374 5.67678 10.5303 5.96967C10.8232 6.26256 10.8232 6.73744 10.5303 7.03033L5.56066 12L20 12C20.4142 12 20.75 12.3358 20.75 12.75C20.75 13.1642 20.4142 13.5 20 13.5L5.56066 13.5L10.5303 18.4697C10.8232 18.7626 10.8232 19.2374 10.5303 19.5303Z"
                  fill="#FBFBFB"
                />
              </svg>
              <span>Гео-платформа</span>
            </button>
          )}
          {!showPanel && (
            <button onClick={() => getSheets(!showSheets)}>
              {showSheets ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="21"
                  viewBox="0 0 20 21"
                  fill="none"
                >
                  <path
                    d="M12.9165 10.5002C12.9165 12.1111 11.6107 13.4169 9.99984 13.4169C8.38901 13.4169 7.08317 12.1111 7.08317 10.5002C7.08317 8.88939 8.38901 7.58356 9.99984 7.58356C11.6107 7.58356 12.9165 8.88939 12.9165 10.5002Z"
                    fill="#FBFBFB"
                  />
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M9.99995 3.41699C7.14003 3.41699 4.89619 4.69547 3.2882 6.11751C1.68351 7.53662 0.67861 9.1264 0.274601 9.8347C0.037373 10.2506 0.0373722 10.75 0.274601 11.166C0.67861 11.8743 1.68351 13.464 3.28819 14.8831C4.89619 16.3052 7.14002 17.5837 9.99995 17.5837C12.8599 17.5837 15.1037 16.3052 16.7117 14.8831C18.3164 13.464 19.3213 11.8742 19.7253 11.1659C19.9625 10.75 19.9625 10.2505 19.7253 9.83464C19.3212 9.12635 18.3164 7.53658 16.7117 6.11748C15.1037 4.69545 12.8599 3.41699 9.99995 3.41699ZM1.36039 10.454C1.72829 9.80903 2.65335 8.34762 4.11628 7.05387C5.57589 5.76305 7.53733 4.66699 9.99995 4.66699C12.4626 4.66699 14.424 5.76305 15.8836 7.05385C17.3465 8.34758 18.2716 9.80898 18.6395 10.454C18.6504 10.4731 18.6532 10.4886 18.6532 10.5003C18.6532 10.5119 18.6504 10.5274 18.6395 10.5466C18.2716 11.1916 17.3465 12.653 15.8836 13.9468C14.424 15.2376 12.4626 16.3337 9.99995 16.3337C7.53733 16.3337 5.57589 15.2376 4.11628 13.9468C2.65335 12.653 1.72829 11.1916 1.36039 10.5466C1.34946 10.5275 1.34668 10.512 1.34668 10.5003C1.34668 10.4887 1.34946 10.4732 1.36039 10.454Z"
                    fill="#FBFBFB"
                  />
                </svg>
              ) : (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="21"
                  viewBox="0 0 20 21"
                  fill="white"
                >
                  <path
                    d="M6.70979 5.36377C7.68097 4.93651 8.77657 4.66675 9.99979 4.66675C12.4624 4.66675 14.4238 5.7628 15.8834 7.05361C17.3464 8.34734 18.2714 9.80873 18.6393 10.4537C18.6491 10.4709 18.6522 10.4861 18.6522 10.4994C18.6522 10.5129 18.6488 10.5297 18.6377 10.5491C18.4162 10.9372 17.9899 11.6262 17.3626 12.3973C17.1448 12.6651 17.1853 13.0587 17.453 13.2766C17.7208 13.4944 18.1144 13.4539 18.3323 13.1862C19.0128 12.3496 19.4768 11.6007 19.7233 11.1688C19.9592 10.7556 19.9639 10.253 19.7251 9.8344C19.3211 9.1261 18.3162 7.53634 16.7115 6.11724C15.1035 4.69521 12.8597 3.41675 9.99979 3.41675C8.58703 3.41675 7.32067 3.7294 6.20642 4.21961C5.89046 4.35861 5.74702 4.72742 5.88602 5.04337C6.02502 5.35933 6.39383 5.50278 6.70979 5.36377Z"
                    fill="white"
                  />
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M15.9715 15.4894C14.4397 16.649 12.444 17.5834 9.99979 17.5834C7.13987 17.5834 4.89604 16.3049 3.28804 14.8829C1.68335 13.4638 0.678453 11.874 0.274443 11.1657C0.0359779 10.7476 0.039717 10.2457 0.275857 9.83198C0.658768 9.16105 1.58025 7.70035 3.03971 6.34255L1.09718 4.96857C0.815375 4.76924 0.748512 4.37921 0.94784 4.0974C1.14717 3.81559 1.53721 3.74873 1.81902 3.94805L18.9023 16.0314C19.1842 16.2307 19.251 16.6208 19.0517 16.9026C18.8524 17.1844 18.4623 17.2512 18.1805 17.0519L15.9715 15.4894ZM4.08458 7.08161C2.64243 8.36609 1.72832 9.80881 1.3615 10.4516C1.35047 10.4709 1.3472 10.4875 1.34717 10.5006C1.34713 10.5135 1.35022 10.5288 1.36023 10.5464C1.72813 11.1914 2.65319 12.6528 4.11612 13.9465C5.57573 15.2374 7.53717 16.3334 9.99979 16.3334C11.9445 16.3334 13.5754 15.6504 14.8945 14.7276L11.9647 12.6554C11.4463 13.1283 10.7567 13.4166 9.99972 13.4166C8.38888 13.4166 7.08305 12.1108 7.08305 10.5C7.08305 10.0972 7.16467 9.71358 7.31228 9.36462L4.08458 7.08161Z"
                    fill="white"
                  />
                </svg>
              )}
            </button>
          )}
        </div>
        <ProfileButton />
      </header>
      <MapLoader loading={loader} />
    </>
  );
};
